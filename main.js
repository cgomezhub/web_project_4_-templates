!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var r=function(){function e(t,r){var n=t.data,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=n,this._renderer=o,this._container=document.querySelector(r)}var r,n;return r=e,(n=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"renderItems",value:function(){var e=this;this._renderedItems.forEach((function(t){e._renderer(t)}))}}])&&t(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}();function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}var i=function(){function e(t,r){var n=t.image,o=t.place,i=t.altImage;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._image=n,this._altImage=i,this._place=o,this._cardSelector=r}var t,r;return t=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._element.querySelector(".card__place").textContent=this._place,this._element.querySelector(".card__image").src=this._image,this._element.querySelector(".card__image").alt=this._altImage,this._setEventListeners(),this._element}},{key:"_like",value:function(e){e.target.classList.toggle("card__heart_active")}},{key:"_handleRemoveCard",value:function(){this._element.style.display="none"}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".card__heart").addEventListener("click",(function(t){e._like(t)})),this._element.querySelector(".card__trash").addEventListener("click",(function(){e._handleRemoveCard()}))}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),c=document.querySelector(".button-edit"),a=(document.getElementById("popup-profile"),document.querySelector(".form__close"),document.getElementById("text-input-name"),document.getElementById("text-input-about"),document.querySelector(".profile__name")),u=document.querySelector(".profile__about"),l=document.querySelector(".button-place"),s=(document.getElementById("popup-add"),document.getElementById("add-form-close"),document.getElementById("text-input-place"),document.getElementById("url-input-image"),document.querySelector(".cards")),f=(document.querySelector(".card__image"),document.getElementById("popup-image"),document.querySelector(".popup__image"),document.querySelector(".popup__place"),document.querySelector(".images-expand__close"),document.querySelector(".form")),p=document.querySelector(".form__input"),y=(document.querySelector(".popup"),document.querySelector(".popups")),m=document.querySelector(".popups__image"),d=document.querySelector(".popups__add"),v=document.querySelector(".popups-user-info");function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===_(o)?o:String(o)),n)}var o}document.querySelector("#button-user-form"),document.querySelector("#button-add-form");var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formSelector=t,this._inputSelector=p}var t,r;return t=e,r=[{key:"_showError",value:function(e,t,r){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.add("form__input_type_error"),n.textContent=r,n.classList.add("form__error_active")}},{key:"_hideError",value:function(e,t){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.remove("form__input_type_error"),r.classList.remove("form__error_active"),r.textContent=""}},{key:"_checkInputValidity",value:function(e,t){t.validity.valid?this._hideError(e,t):this._showError(e,t,t.validationMessage)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?(t.classList.add("form__button_inactive"),document.addEventListener("keydown",(function(e){"Enter"===e.key&&e.preventDefault()}))):t.classList.remove("form__button_inactive")}},{key:"_setEventListeners",value:function(e){var t=this,r=Array.from(e.querySelectorAll(".form__input")),n=e.querySelector(".form__button");this._toggleButtonState(r,n),r.forEach((function(o){o.addEventListener("input",(function(){t._checkInputValidity(e,o),t._toggleButtonState(r,n)}))}))}},{key:"enableValidation",value:function(){var e=this;Array.from(document.querySelectorAll(".form")).forEach((function(t){t.addEventListener("submit",(function(e){e.preventDefault()})),e._setEventListeners(t)}))}}],r&&b(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===g(o)?o:String(o)),n)}var o}new h(f).enableValidation();var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selectorPopup=t}var t,r;return t=e,(r=[{key:"open",value:function(){y.classList.add("active")}},{key:"close",value:function(){y.classList.remove("active")}},{key:"_handleEscClose",value:function(e){"Escape"===e&&y.classList.remove("active")}},{key:"setEventListeners",value:function(){var e=this;this._element.querySelector(".form__close").addEventListener("click",this.close),y.addEventListener("click",(function(t){t.target===y&&e.close()})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&e.close()}))}}])&&S(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===E(o)?o:String(o)),n)}var o}function q(){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},q.apply(this,arguments)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(n);if(o){var r=x(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this,e)}return t=c,(r=[{key:"_getTemplatePopup",value:function(){return document.querySelector(this._selectorPopup).content.querySelector(".popup__container").cloneNode(!0)}},{key:"_generatePopup",value:function(){return this._element=this._getTemplatePopup(),this._element}},{key:"_close",value:function(){m.classList.remove("active")}},{key:"_setEventListeners",value:function(){var e=this;q(x(c.prototype),"setEventListeners",this).call(this),this._element.querySelector(".form__close").addEventListener("click",(function(){q(x(c.prototype),"close",e).call(e),e._close()})),m.addEventListener("click",(function(t){t.target===m&&(q(x(c.prototype),"close",e).call(e),e._close())})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&(q(x(c.prototype),"close",e).call(e),e._close())}))}},{key:"open",value:function(e){var t=e.src,r=e.alt,n=e.text;q(x(c.prototype),"open",this).call(this),m.classList.add("active"),this._element.querySelector(".popup__image").src=t,this._element.querySelector(".popup__image").alt=r,this._element.querySelector(".popup__place").textContent=n,m.append(this._element),this._setEventListeners()}}])&&k(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(w);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==j(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===j(o)?o:String(o)),n)}var o}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},D.apply(this,arguments)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(n);if(o){var r=B(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this,e)}return t=c,(r=[{key:"_getInputValues",value:function(){return document.querySelector(this._selectorPopup).content.querySelector("#add-form").cloneNode(!0)}},{key:"_generateFormPopup",value:function(){return this._element=this._getInputValues(),this._element}},{key:"_handleAddFormSubmit",value:function(e){e.preventDefault();var t=document.querySelector(".card").cloneNode(!0),r=t.querySelector(".card__image"),n=t.querySelector(".card__place"),o=t.querySelector(".card__heart"),i=t.querySelector(".card__trash"),c=document.querySelector("#add-form"),a=document.getElementById("text-input-place"),u=document.getElementById("url-input-image");r.src=u.value,r.alt="imagen de ".concat(u.value),n.textContent=a.value,o.addEventListener("click",(function(e){e.target.classList.toggle("card__heart_active")})),i.addEventListener("click",(function(){t.style.display="none"})),s.prepend(t),d.classList.remove("active"),y.classList.remove("active"),c.reset()}},{key:"_close",value:function(){d.classList.remove("active")}},{key:"_setEventListeners",value:function(){var e=this,t=document.querySelector("#add-form");D(B(c.prototype),"setEventListeners",this).call(this),this._element.querySelector(".form__close").addEventListener("click",(function(){D(B(c.prototype),"close",e).call(e),e._close()})),d.addEventListener("click",(function(t){t.target===d&&(D(B(c.prototype),"close",e).call(e),e._close())})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&(D(B(c.prototype),"close",e).call(e),e._close())})),t.addEventListener("submit",this._handleAddFormSubmit)}},{key:"_open",value:function(){D(B(c.prototype),"open",this).call(this),d.classList.add("active"),d.append(this._element),this._setEventListeners()}}])&&O(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(w);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==T(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===T(o)?o:String(o)),n)}var o}var A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selectorUser=t}var t,r;return t=e,(r=[{key:"_getTemplateUser",value:function(){return document.querySelector(this._selectorUser).content.querySelector("#profile-form").cloneNode(!0)}},{key:"_generateUser",value:function(){return this._element=this._getTemplateUser(),this._element}},{key:"_handleUserFormSubmit",value:function(e){e.preventDefault();var t=document.querySelector("#text-input-name"),r=document.querySelector("#text-input-about"),n=document.querySelector("#profile-form");a.textContent=t.value,u.textContent=r.value,v.classList.remove("active"),n.reset(),y.classList.remove("active")}},{key:"_close",value:function(){v.classList.remove("active")}},{key:"_setEventListeners",value:function(){var e=this,t=document.querySelector("#profile-form");this._element.querySelector(".form__close").addEventListener("click",this._close),v.addEventListener("click",(function(t){t.target===v&&e._close()})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&e._close()})),v.addEventListener("click",(function(t){t.target===v&&e._close()})),t.addEventListener("submit",this._handleUserFormSubmit)}},{key:"_open",value:function(){v.classList.add("active"),console.log(this._element);var e=this._element.querySelector("#text-input-name"),t=this._element.querySelector("#text-input-about");e.value=a.textContent,t.value=u.textContent,v.append(this._element),this._setEventListeners()}}])&&M(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),R=new r({data:[{image:"https://images.unsplash.com/photo-1666831268439-376e34c4de0d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1964&q=80",altImage:"imagen de la Montana de Yosemite",place:"Montana de Yosemite"},{image:"https://images.unsplash.com/photo-1618595723314-c54d51d6e043?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1220&q=80",altImage:"imagen de Los Arcos",place:"Los Arcos"},{image:"https://images.unsplash.com/photo-1657589809154-8212431ee6c1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=870&q=80",altImage:"imagen del Canon Bryce",place:"Canon Bryce"},{image:"https://images.unsplash.com/photo-1615405147358-f17791e21fcd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=870&q=80",altImage:"imagen del parque nacional Zion",place:"Parque Nacional Zion"},{image:"https://images.unsplash.com/photo-1678806922638-27bf485490ae?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1031&q=80",altImage:"imagen del parque nacional Denali",place:"Parque Nacional Denali"},{image:"https://images.unsplash.com/photo-1643252494989-81cd0b5bead2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1887&q=80",altImage:"imagen del gran canon",place:"Gran Canon"}],renderer:function(e){var t=new i(e,".card-template").generateCard();R.addItem(t)}},".cards");R.renderItems();var H=new P(".popup-image-template");H._generatePopup(),document.addEventListener("click",(function(e){if(e.target.classList.contains("card__image")){var t=e.target.parentElement.querySelector(".card__place"),r={src:e.target.src,alt:e.target.alt,text:t.textContent};H.open(r)}}));var V=new C(".popup-form-template");V._generateFormPopup(),l.addEventListener("click",(function(){V._open(),console.log("viene PopupWith"),new h(".form").enableValidation()}));var G=new A(".popup-user-template");G._generateUser(),console.log("entro UserInfo"),c.addEventListener("click",(function(){G._open(),new h(".form").enableValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFnQixJQUFJMUIsRUFBUyx3QkFFbkMwQixFQUFjQyxnQkFFZG5CLFFBQVFDLElBQUksa0JBRVo3RSxFQUFXSCxpQkFBaUIsU0FBUyxXQUNuQ2lHLEVBQWNELFFBRUksSUFBSWpGLEVBQWMsU0FFMUIwQixrQkFDWixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9lc3AvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X2VzcC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfZXNwLy4vc3JjL3BhZ2UvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBkYXRhLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcyA9IGRhdGE7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG5cclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3Ioe2ltYWdlLCBwbGFjZSwgYWx0SW1hZ2V9LCBjYXJkU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pbWFnZSA9IGltYWdlO1xuICAgIHRoaXMuX2FsdEltYWdlID0gYWx0SW1hZ2U7XG4gICAgdGhpcy5fcGxhY2UgPSBwbGFjZTtcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG5cbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fcGxhY2UnKS50ZXh0Q29udGVudCA9IHRoaXMuX3BsYWNlO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJykuc3JjID0gdGhpcy5faW1hZ2U7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1hZ2UnKS5hbHQgPSB0aGlzLl9hbHRJbWFnZTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIF9saWtlKGV2dCkge1xuICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZF9faGVhcnRfYWN0aXZlJyk7XG4gIH1cblxuICBfaGFuZGxlUmVtb3ZlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG5cbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcignLmNhcmRfX2hlYXJ0JylcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgICAgdGhpcy5fbGlrZShldnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fZWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX190cmFzaCcpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmQoKTtcbiAgICAgIH0pO1xuICB9XG59XG5cbiIsImNvbnN0IGJ1dHRvbkVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLWVkaXQnKTtcclxuY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcHVwLXByb2ZpbGUnKTtcclxuY29uc3QgcHJvZmlsZUZvcm1DbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19jbG9zZScpO1xyXG5jb25zdCBwcm9maWxlRm9ybUlucHV0TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXh0LWlucHV0LW5hbWUnKTtcclxuY29uc3QgcHJvZmlsZUZvcm1JbnB1dEFib3V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHQtaW5wdXQtYWJvdXQnKTtcclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xyXG5jb25zdCBwcm9maWxlQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWJvdXQnKTtcclxuXHJcbmNvbnN0IGJ1dHRvblBsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1wbGFjZScpO1xyXG5jb25zdCBwb3B1cEFkZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3B1cC1hZGQnKTtcclxuY29uc3QgcG9wdXBBZGRDbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtZm9ybS1jbG9zZScpO1xyXG5jb25zdCBwb3B1cEFkZElucHV0UGxhY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dC1pbnB1dC1wbGFjZScpO1xyXG5jb25zdCBwb3B1cEFkZElucHV0SHR0cHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXJsLWlucHV0LWltYWdlJyk7XHJcblxyXG5cclxuY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHMnKTtcclxuY29uc3QgY2FyZEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyk7XHJcbmNvbnN0IHBvcHVwSW1hZ2VTZWxlY3RvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3B1cC1pbWFnZScpO1xyXG5jb25zdCBwb3B1cEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xyXG5jb25zdCBwb3B1cFBsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19wbGFjZScpO1xyXG5jb25zdCBpbWFnZXNFeHBhbmRDbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZXMtZXhwYW5kX19jbG9zZScpO1xyXG5cclxuY29uc3QgZm9ybVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcclxuY29uc3QgaW5wdXRTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dCcpO1xyXG5cclxuY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAnKTtcclxuXHJcbmNvbnN0IHBvcHVwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cHMnKTtcclxuY29uc3QgcG9wdXBzSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBzX19pbWFnZScpO1xyXG5jb25zdCBwb3B1cHNBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBzX19hZGQnKTtcclxuY29uc3QgcG9wdXBzVXNlckluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBzLXVzZXItaW5mbycpO1xyXG5cclxuY29uc3QgYnV0dG9uVXNlckZvcm0gID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNidXR0b24tdXNlci1mb3JtXCIpO1xyXG5jb25zdCBidXR0b25BZGRGb3JtICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYnV0dG9uLWFkZC1mb3JtXCIpO1xyXG5cclxuXHJcbmNvbnN0IGl0ZW1zID0gW1xyXG4gICAge1xyXG4gICAgICBpbWFnZTpcclxuICAgICAgICAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2NjY4MzEyNjg0MzktMzc2ZTM0YzRkZTBkP2l4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTE5NjQmcT04MCcsXHJcbiAgICAgIGFsdEltYWdlOiAnaW1hZ2VuIGRlIGxhIE1vbnRhbmEgZGUgWW9zZW1pdGUnLFxyXG4gICAgICBwbGFjZTogJ01vbnRhbmEgZGUgWW9zZW1pdGUnLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgaW1hZ2U6XHJcbiAgICAgICAgJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNjE4NTk1NzIzMzE0LWM1NGQ1MWQ2ZTA0Mz9peGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0QmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz0xMjIwJnE9ODAnLFxyXG4gICAgICBhbHRJbWFnZTogJ2ltYWdlbiBkZSBMb3MgQXJjb3MnLFxyXG4gICAgICBwbGFjZTogJ0xvcyBBcmNvcycsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBpbWFnZTpcclxuICAgICAgICAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2NTc1ODk4MDkxNTQtODIxMjQzMWVlNmMxP2l4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTg3MCZxPTgwJyxcclxuICAgICAgYWx0SW1hZ2U6ICdpbWFnZW4gZGVsIENhbm9uIEJyeWNlJyxcclxuICAgICAgcGxhY2U6ICdDYW5vbiBCcnljZScsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBpbWFnZTpcclxuICAgICAgICAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MTU0MDUxNDczNTgtZjE3NzkxZTIxZmNkP2l4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTg3MCZxPTgwJyxcclxuICAgICAgYWx0SW1hZ2U6ICdpbWFnZW4gZGVsIHBhcnF1ZSBuYWNpb25hbCBaaW9uJyxcclxuICAgICAgcGxhY2U6ICdQYXJxdWUgTmFjaW9uYWwgWmlvbicsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBpbWFnZTpcclxuICAgICAgICAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2Nzg4MDY5MjI2MzgtMjdiZjQ4NTQ5MGFlP2l4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTEwMzEmcT04MCcsXHJcbiAgICAgIGFsdEltYWdlOiAnaW1hZ2VuIGRlbCBwYXJxdWUgbmFjaW9uYWwgRGVuYWxpJyxcclxuICAgICAgcGxhY2U6ICdQYXJxdWUgTmFjaW9uYWwgRGVuYWxpJyxcclxuICAgIH0sXHJcbiAgXHJcbiAgICB7XHJcbiAgICAgIGltYWdlOlxyXG4gICAgICAgICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTY0MzI1MjQ5NDk4OS04MWNkMGI1YmVhZDI/aXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEJmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9MTg4NyZxPTgwJyxcclxuICAgICAgYWx0SW1hZ2U6ICdpbWFnZW4gZGVsIGdyYW4gY2Fub24nLFxyXG4gICAgICBwbGFjZTogJ0dyYW4gQ2Fub24nLFxyXG4gICAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCB7IGJ1dHRvbkVkaXQsIHBvcHVwUHJvZmlsZSwgcHJvZmlsZUZvcm1DbG9zZSxwcm9maWxlRm9ybUlucHV0TmFtZSwgcHJvZmlsZUZvcm1JbnB1dEFib3V0LHByb2ZpbGVOYW1lLCBwcm9maWxlQWJvdXQsIGJ1dHRvblBsYWNlLCBwb3B1cEFkZCxwb3B1cEFkZENsb3NlLCBwb3B1cEFkZElucHV0UGxhY2UsIHBvcHVwQWRkSW5wdXRIdHRwcywgY2FyZHMsIHBvcHVwSW1hZ2VTZWxlY3RvciwgcG9wdXBJbWFnZSwgcG9wdXBQbGFjZSwgaW1hZ2VzRXhwYW5kQ2xvc2V9O1xyXG5cclxuZXhwb3J0IHtmb3JtU2VsZWN0b3IsIGlucHV0U2VsZWN0b3J9O1xyXG5leHBvcnQgeyBpdGVtc307XHJcbmV4cG9ydCB7Y2FyZEltYWdlfTtcclxuZXhwb3J0IHtwb3B1cH07XHJcbmV4cG9ydCB7cG9wdXBzLCBwb3B1cHNJbWFnZSwgcG9wdXBzQWRkLCBwb3B1cHNVc2VySW5mb307XHJcbmV4cG9ydCB7YnV0dG9uQWRkRm9ybSwgYnV0dG9uVXNlckZvcm19OyIsImltcG9ydCB7IGZvcm1TZWxlY3RvciwgaW5wdXRTZWxlY3RvciB9IGZyb20gXCIuL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoZm9ybVNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBmb3JtU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gaW5wdXRTZWxlY3RvcjtcclxuICAgIFxyXG4gIH1cclxuXHJcbiAgX3Nob3dFcnJvciAoZm9ybVNlbGVjdG9yLCBpbnB1dFNlbGVjdG9yLCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yQ2xhc3MgPSBmb3JtU2VsZWN0b3IucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRTZWxlY3Rvci5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0U2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicpO1xyXG4gICAgZXJyb3JDbGFzcy50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yQ2xhc3MuY2xhc3NMaXN0LmFkZCgnZm9ybV9fZXJyb3JfYWN0aXZlJyk7XHJcbiAgfTtcclxuICBcclxuICBfaGlkZUVycm9yIChmb3JtU2VsZWN0b3IsIGlucHV0U2VsZWN0b3IpIHtcclxuICAgIGNvbnN0IGVycm9yQ2xhc3MgPSBmb3JtU2VsZWN0b3IucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRTZWxlY3Rvci5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0U2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZSgnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicpO1xyXG4gICAgZXJyb3JDbGFzcy5jbGFzc0xpc3QucmVtb3ZlKCdmb3JtX19lcnJvcl9hY3RpdmUnKTtcclxuICAgIGVycm9yQ2xhc3MudGV4dENvbnRlbnQgPSAnJztcclxuICB9O1xyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5IChmb3JtU2VsZWN0b3IsIGlucHV0U2VsZWN0b3IpIHtcclxuICAgIGlmICghaW5wdXRTZWxlY3Rvci52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAvLyBTaSBOTyBsbyBlcyAoISksIG11ZXN0cmEgZWwgZWxlbWVudG8gZXJyw7NuZW9cclxuICAgICAgdGhpcy5fc2hvd0Vycm9yKGZvcm1TZWxlY3RvciwgaW5wdXRTZWxlY3RvciwgaW5wdXRTZWxlY3Rvci52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICAgIFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gU2kgZXMgdsOhbGlkbywgb2N1bHRhIGVsIGVsZW1lbnRvIGVycsOzbmVvXHJcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihmb3JtU2VsZWN0b3IsIGlucHV0U2VsZWN0b3IpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgXHJcbiAgX2hhc0ludmFsaWRJbnB1dCAoaW5wdXRMaXN0KSB7XHJcbiAgICAvLyBpdGVyYSBzb2JyZSBlbCBhcnJheSB1dGlsaXphbmRvIGVsIG3DqXRvZG8gc29tZSgpXHJcbiAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0U2VsZWN0b3IpID0+IHtcclxuICAgICAgLy8gU2kgZWwgY2FtcG8gbm8gZXMgdsOhbGlkbywgZWwgY2FsbGJhY2sgZGV2b2x2ZXLDoSB0cnVlLlxyXG4gICAgICAvLyBFbCBtw6l0b2RvIHNlIGRldGVuZHLDoSBlbnRvbmNlcywgeSBsYSBmdW5jacOzbiBoYXNJbnZhbGlkSW5wdXQoKSBkZXZvbHZlcsOhIHRydWVcclxuICAgICAgLy8gaGFzSW52YWxpZElucHV0IGRldnVlbHZlIHRydWVcclxuICBcclxuICAgICAgcmV0dXJuICFpbnB1dFNlbGVjdG9yLnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICAgIFxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSAoaW5wdXRMaXN0LCBzdWJtaXRCdXR0b25TZWxlY3Rvcikge1xyXG4gICAgLy8gU2kgaGF5IGFsIG1lbm9zIHVuYSBlbnRyYWRhIHF1ZSBubyBlcyB2w6FsaWRhXHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgICAgLy8gaGFjZSBxdWUgZWwgYm90w7NuIGVzdMOpIGluYWN0aXZvXHJcbiAgICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoJ2Zvcm1fX2J1dHRvbl9pbmFjdGl2ZScpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xyXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pOyBcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGVuIGNhc28gY29udHJhcmlvLCBsbyBoYWNlIGFjdGl2b1xyXG4gICAgICBzdWJtaXRCdXR0b25TZWxlY3Rvci5jbGFzc0xpc3QucmVtb3ZlKCdmb3JtX19idXR0b25faW5hY3RpdmUnKTtcclxuICAgICAgXHJcbiAgICAgIH1cclxuICB9O1xyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgKGZvcm1TZWxlY3RvcikgIHtcclxuICAgIC8vIEVuY3VlbnRyYSB0b2RvcyBsb3MgY2FtcG9zIGRlbnRybyBkZWwgZm9ybXVsYXJpbyB5XHJcbiAgICAvLyBjcmVhIHVuIGFycmF5IGEgcGFydGlyIGRlIGVzdG9zLCB1dGlsaXphbmRvIGVsIG3DqXRvZG8gQXJyYXkuZnJvbSgpXHJcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1TZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9faW5wdXQnKSk7XHJcbiAgICBjb25zdCBzdWJtaXRCdXR0b25TZWxlY3RvciA9IGZvcm1TZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fYnV0dG9uJyk7XHJcbiAgICAvLyBMbGFtYSBhIHRvZ2dsZUJ1dHRvblN0YXRlKCkgYW50ZXMgZGUgZW1wZXphciBhIGRldGVjdGFyIGVsIGV2ZW50byBkZSBlbnRyYWRhXHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIHN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIC8vIEl0ZXJhIHNvYnJlIGVsIGFycmF5IG9idGVuaWRvXHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRTZWxlY3RvcikgPT4ge1xyXG4gICAgICAvLyBhZ3JlZ2EgZWwgY29udHJvbGFkb3IgZGUgZXZlbnRvcyBkZSBlbnRyYWRhIGEgY2FkYSBjYW1wb1xyXG4gICAgICBpbnB1dFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIC8vIExsYW1hIGEgbGEgZnVuY2nDs24gY2hlY2hJbnB1dFZhbGlkaXR5KCkgZGVudHJvIGRlbCBjYWxsYmFja1xyXG4gICAgICAgIC8vIHkgcMOhc2FsZSBlbCBmb3JtdWxhcmlvIHkgZWwgZWxlbWVudG8gYSBjb21wcm9iYXJcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoZm9ybVNlbGVjdG9yLCBpbnB1dFNlbGVjdG9yKTtcclxuICAgICAgICAvLyBMbGFtYSBhIHRvZ2dsZUJ1dHRvblN0YXRlKCkgeSBww6FzYWxlIHVuIGFycmF5IGRlIGNhbXBvcyB5IGVsIGJvdMOzblxyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24gICgpIHtcclxuICAgIC8vIEVuY29udHJhcsOhIHRvZG9zIGxvcyBmb3JtdWxhcmlvcyBjb24gbGEgY2xhc2UgZXNwZWNpZmljYWRhIGVuIGVsIERPTSB5XHJcbiAgICAvLyBjcmVhcsOhIHVuIGFycmF5LCBhIHBhcnRpciBkZSBlc3RvcywgdXRpbGl6YW5kbyBlbCBtw6l0b2RvIEFycmF5LmZyb20oKVxyXG4gICAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtJykpO1xyXG4gICAgLy8gSXRlcmEgc29icmUgZWwgYXJyYXkgb2J0ZW5pZG9cclxuICAgIGZvcm1MaXN0LmZvckVhY2goKGZvcm1TZWxlY3RvcikgPT4ge1xyXG4gICAgICBmb3JtU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgIC8vIENhbmNlbGEgZWwgY29tcG9ydGFtaWVudG8gcG9yIGRlZmVjdG8gZGUgY2FkYSBmb3JtdWxhcmlvXHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgIC8vIExsYW1hIGEgbGEgZnVuY2nDs24gc2V0RXZlbnRMaXN0ZW5lcnMoKSBwYXJhIGNhZGEgZm9ybXVsYXJpb1xyXG4gICAgICAvLyB0b21hbmRvIHVuIGVsZW1lbnRvIGRlbCBmb3JtdWxhcmlvIGNvbW8gYXJndW1lbnRvXHJcbiAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKGZvcm1TZWxlY3Rvcik7XHJcbiAgICAgIFxyXG4gICAgfSk7XHJcbiAgfTtcclxufVxyXG5cclxuXHJcbmNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1TZWxlY3Rvcik7XHJcblxyXG52YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpOyIsImltcG9ydCB7IHBvcHVwcywgYnV0dG9uUGxhY2UgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCkge1xuICAgIHRoaXMuX3NlbGVjdG9yUG9wdXAgPSBzZWxlY3RvclBvcHVwO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICBwb3B1cHMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gIH1cblxuICAvLyBoYXkgcXVlIHZhY2lhciBsYSBzZWNjaW9uIHBvcHVwcyBjYWRhIHZleiAgc2UgYWJyYSBsYSBpbWFnZW5cblxuICBjbG9zZSgpIHtcbiAgICBwb3B1cHMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgPT09ICdFc2NhcGUnKSB7XG4gICAgICBwb3B1cHMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19jbG9zZScpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlKTtcblxuICAgIHBvcHVwcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gcG9wdXBzKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgcG9wdXBzSW1hZ2UsIHBvcHVwcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvY29uc3RhbnRzJztcbmltcG9ydCBQb3B1cCBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yUG9wdXApIHtcbiAgICBzdXBlcihzZWxlY3RvclBvcHVwKTtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZVBvcHVwKCkge1xuICAgIGNvbnN0IHRlc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9yUG9wdXApO1xuXG4gICAgY29uc3QgcG9wdXBFbGVtZW50ID0gdGVzdC5jb250ZW50XG4gICAgICAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jb250YWluZXInKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBwb3B1cEVsZW1lbnQ7XG4gIH1cblxuICBfZ2VuZXJhdGVQb3B1cCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGVQb3B1cCgpO1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cblxuICBfY2xvc2UoKXtcblxuICAgIHBvcHVwc0ltYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICB9XG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCkgPT57XG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuX2Nsb3NlKCk7XG5cbiAgICAgIH0pO1xuXG4gICAgcG9wdXBzSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IHBvcHVwc0ltYWdlKSB7XG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuX2Nsb3NlKCk7XG5cblxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5fY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9XG5cbiAgb3Blbih7IHNyYywgYWx0LCB0ZXh0IH0pIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgcG9wdXBzSW1hZ2UuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKS5zcmMgPSBzcmM7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJykuYWx0ID0gYWx0O1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19wbGFjZScpLnRleHRDb250ZW50ID0gdGV4dDtcblxuICAgIHBvcHVwc0ltYWdlLmFwcGVuZCh0aGlzLl9lbGVtZW50KTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IHBvcHVwcywgcG9wdXBzQWRkLCBjYXJkcywgIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9yUG9wdXApO1xuXG4gICAgY29uc3QgcG9wdXBFbGVtZW50ID0gaW5wLmNvbnRlbnQucXVlcnlTZWxlY3RvcignI2FkZC1mb3JtJykuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIHBvcHVwRWxlbWVudDtcbiAgfVxuXG4gIF9nZW5lcmF0ZUZvcm1Qb3B1cCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgX2hhbmRsZUFkZEZvcm1TdWJtaXQoZXZ0KSB7XG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBjbG9uYXIgbm9kbyAgcGFyYSBtYXJjbyBkZSBsYSB0YXJqZXRhIChlbGVtZW50KVxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIC8vIHZhcmlhYmxlcyBwYXJhIGV2ZW50b3NcblxuICAgIGNvbnN0IGVsZW1lbnRJbWFnZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyk7XG4gICAgY29uc3QgZWxlbWVudFBsYWNlID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fcGxhY2UnKTtcbiAgICBjb25zdCBlbGVtZW50SGVhcnQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19oZWFydCcpO1xuICAgIGNvbnN0IGVsZW1lbnRUcmFzaCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3RyYXNoJyk7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQtZm9ybScpO1xuXG4gICAgY29uc3QgdGV4dElucHV0UGxhY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dC1pbnB1dC1wbGFjZScpO1xuICAgIGNvbnN0IHVybElucHV0SWltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VybC1pbnB1dC1pbWFnZScpO1xuXG4gICAgLy9hZ3JlZ2FyIGRhdG9zIGRlbCBmb3JtdWxhcmlvIGluZ3Jlc2Fkb3MgcG9yIGVsIHVzdWFyaW9cblxuICAgIGVsZW1lbnRJbWFnZS5zcmMgPSB1cmxJbnB1dElpbWFnZS52YWx1ZTtcbiAgICBlbGVtZW50SW1hZ2UuYWx0ID0gYGltYWdlbiBkZSAke3VybElucHV0SWltYWdlLnZhbHVlfWA7XG4gICAgZWxlbWVudFBsYWNlLnRleHRDb250ZW50ID0gdGV4dElucHV0UGxhY2UudmFsdWU7XG5cbiAgICAvLyBjb25maWd1cmFyICBlbCBib3RvbiBkZSBtZSBndXN0YVxuXG4gICAgZWxlbWVudEhlYXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCdjYXJkX19oZWFydF9hY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIC8vIGNvbmZpZ3VyYXIgZWxpbWluYXIgdGFyamV0YVxuXG4gICAgZWxlbWVudFRyYXNoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0pO1xuXG4gICAgLy8gYWdyZWdhciBsYSB0YXJqZXRhIG51ZXZhIGFsIEdyaWRcblxuICAgIGNhcmRzLnByZXBlbmQoZWxlbWVudCk7XG5cbiAgICAvLyBjZXJyYXIgbGEgdmVudGFuYSBlbWVyZ2VudGUgYWwgZW52aWFyIGVsIGZvcm11bGFyaW9cblxuICAgIHBvcHVwc0FkZC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblxuICAgIHBvcHVwcy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblxuICAgIGZvcm0ucmVzZXQoKTtcbiAgfVxuXG4gIF9jbG9zZSgpe1xuXG4gICAgcG9wdXBzQWRkLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGFkZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLWZvcm0nKTtcblxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKSA9PntcbiAgICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgICB0aGlzLl9jbG9zZSgpO1xuXG5cbiAgICB9KTtcblxuXG4gICAgcG9wdXBzQWRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBwb3B1cHNBZGQpIHtcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5fY2xvc2UoKTtcblxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5fY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5faGFuZGxlQWRkRm9ybVN1Ym1pdCk7XG4gIH1cblxuICBfb3BlbigpIHtcbiAgICBzdXBlci5vcGVuKCk7XG5cbiAgICBwb3B1cHNBZGQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cbiAgICBwb3B1cHNBZGQuYXBwZW5kKHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgcG9wdXBzVXNlckluZm8sIHByb2ZpbGVOYW1lLCBwcm9maWxlQWJvdXQsIHBvcHVwcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvY29uc3RhbnRzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3RvcihzZWxlY3RvclVzZXIpIHtcclxuICAgIHRoaXMuX3NlbGVjdG9yVXNlciA9IHNlbGVjdG9yVXNlcjtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZVVzZXIoKSB7XHJcbiAgICBjb25zdCB0ZXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvclVzZXIpO1xyXG5cclxuICAgIGNvbnN0IHVzZXJFbGVtZW50ID0gdGVzdC5jb250ZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcjcHJvZmlsZS1mb3JtJylcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gdXNlckVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfZ2VuZXJhdGVVc2VyKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlVXNlcigpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlVXNlckZvcm1TdWJtaXQoZXZ0KSB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAvLyBkZWNsYXJhciB2YXJpYWJsZXMgZGVsIG51ZXZvIGVsZW1lbnQgKCBldmVudG8gaW5wdXQpXHJcbiAgICBjb25zdCBpbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGV4dC1pbnB1dC1uYW1lJyk7XHJcbiAgICBjb25zdCBpbnB1dEpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZXh0LWlucHV0LWFib3V0Jyk7XHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2ZpbGUtZm9ybScpO1xyXG5cclxuICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gaW5wdXROYW1lLnZhbHVlO1xyXG4gICAgcHJvZmlsZUFib3V0LnRleHRDb250ZW50ID0gaW5wdXRKb2IudmFsdWU7XHJcblxyXG4gICAgcG9wdXBzVXNlckluZm8uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblxyXG4gICAgZm9ybS5yZXNldCgpO1xyXG4gICAgcG9wdXBzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gIH1cclxuICBcclxuICBfY2xvc2UoKSB7XHJcbiAgICBwb3B1cHNVc2VySW5mby5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIGNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2ZpbGUtZm9ybScpO1xyXG5cclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19jbG9zZScpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2Nsb3NlKTtcclxuXHJcbiAgICBwb3B1cHNVc2VySW5mby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBwb3B1cHNVc2VySW5mbykge1xyXG4gICAgICAgIHRoaXMuX2Nsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcclxuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgICB0aGlzLl9jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBwb3B1cHNVc2VySW5mby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBwb3B1cHNVc2VySW5mbykge1xyXG4gICAgICAgIHRoaXMuX2Nsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHByb2ZpbGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2hhbmRsZVVzZXJGb3JtU3VibWl0KTtcclxuICB9XHJcblxyXG4gIF9vcGVuKCkge1xyXG4gICAgcG9wdXBzVXNlckluZm8uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAvL3RoaXMuX2dlbmVyYXRlVXNlcigpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKHRoaXMuX2VsZW1lbnQpO1xyXG4gICAgLy8gZGVjbGFyYXIgdmFyaWFibGVzIGRlbCBudWV2byBlbGVtZW50IChpbnB1dHMpXHJcbiAgICBjb25zdCBpbnB1dE5hbWUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZXh0LWlucHV0LW5hbWUnKTtcclxuICAgIGNvbnN0IGlucHV0Sm9iID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjdGV4dC1pbnB1dC1hYm91dCcpO1xyXG5cclxuICAgIC8vIGNhcmdhciB2YWxvcmVzIGFsb3MgaW5wdXRzXHJcbiAgICBpbnB1dE5hbWUudmFsdWUgPSBwcm9maWxlTmFtZS50ZXh0Q29udGVudDtcclxuICAgIGlucHV0Sm9iLnZhbHVlID0gcHJvZmlsZUFib3V0LnRleHRDb250ZW50O1xyXG5cclxuICAgIHBvcHVwc1VzZXJJbmZvLmFwcGVuZCh0aGlzLl9lbGVtZW50KTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5cbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbic7XG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQnO1xuXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3InO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UnO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvJztcblxuaW1wb3J0IHsgaXRlbXMsIGJ1dHRvblBsYWNlLCBidXR0b25FZGl0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9jb25zdGFudHMuanMnO1xuXG5jb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIGRhdGE6IGl0ZW1zLFxuICAgIHJlbmRlcmVyOiAoY2FyZEl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChjYXJkSXRlbSwgJy5jYXJkLXRlbXBsYXRlJyk7XG5cbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcblxuICAgICAgY2FyZHNMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgIH0sXG4gIH0sXG4gICcuY2FyZHMnXG4pO1xuXG5jYXJkc0xpc3QucmVuZGVySXRlbXMoKTtcblxuXG5jb25zdCBwb3B1cEltZyA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwLWltYWdlLXRlbXBsYXRlJyk7XG5cbnBvcHVwSW1nLl9nZW5lcmF0ZVBvcHVwKCk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmRfX2ltYWdlJykpIHtcbiAgICBjb25zdCBwID0gZXZ0LnRhcmdldC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19wbGFjZScpO1xuXG4gICAgY29uc3QgaW1hZ2VJbmZvID0ge1xuICAgICAgc3JjOiBldnQudGFyZ2V0LnNyYyxcbiAgICAgIGFsdDogZXZ0LnRhcmdldC5hbHQsXG4gICAgICB0ZXh0OiBwLnRleHRDb250ZW50LFxuICAgIH07XG5cbiAgICBwb3B1cEltZy5vcGVuKGltYWdlSW5mbyk7XG4gIH1cbn0pO1xuXG5cbmNvbnN0IHBvcHVwQWRkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXAtZm9ybS10ZW1wbGF0ZScpO1xuXG5wb3B1cEFkZEZvcm0uX2dlbmVyYXRlRm9ybVBvcHVwKCk7XG5cbmJ1dHRvblBsYWNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cEFkZEZvcm0uX29wZW4oKTtcblxuICBjb25zb2xlLmxvZygndmllbmUgUG9wdXBXaXRoJyk7XG5cbiAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoJy5mb3JtJyk7XG5cbiAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbn0pO1xuXG5cbmNvbnN0IHBvcHVwVXNlckZvcm0gPSBuZXcgVXNlckluZm8oJy5wb3B1cC11c2VyLXRlbXBsYXRlJyk7XG5cbnBvcHVwVXNlckZvcm0uX2dlbmVyYXRlVXNlcigpO1xuXG5jb25zb2xlLmxvZygnZW50cm8gVXNlckluZm8nKTtcblxuYnV0dG9uRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBVc2VyRm9ybS5fb3BlbigpO1xuXG4gIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKCcuZm9ybScpO1xuXG4gIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG59KTtcbiJdLCJuYW1lcyI6WyJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwiZGF0YSIsInJlbmRlcmVyIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9yZW5kZXJlZEl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImtleSIsInZhbHVlIiwiZWxlbWVudCIsImFwcGVuZCIsIl90aGlzIiwiZm9yRWFjaCIsIml0ZW0iLCJDYXJkIiwiY2FyZFNlbGVjdG9yIiwiaW1hZ2UiLCJwbGFjZSIsImFsdEltYWdlIiwiX2ltYWdlIiwiX2FsdEltYWdlIiwiX3BsYWNlIiwiX2NhcmRTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsInRleHRDb250ZW50Iiwic3JjIiwiYWx0IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiZXZ0IiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwic3R5bGUiLCJkaXNwbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9saWtlIiwiX2hhbmRsZVJlbW92ZUNhcmQiLCJidXR0b25FZGl0IiwicHJvZmlsZU5hbWUiLCJnZXRFbGVtZW50QnlJZCIsInByb2ZpbGVBYm91dCIsImJ1dHRvblBsYWNlIiwiY2FyZHMiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwicG9wdXBzIiwicG9wdXBzSW1hZ2UiLCJwb3B1cHNBZGQiLCJwb3B1cHNVc2VySW5mbyIsIkZvcm1WYWxpZGF0b3IiLCJfZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckNsYXNzIiwiY29uY2F0IiwiaWQiLCJhZGQiLCJyZW1vdmUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVFcnJvciIsIl9zaG93RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsInNvbWUiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9oYXNJbnZhbGlkSW5wdXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdGhpczIiLCJlbmFibGVWYWxpZGF0aW9uIiwiUG9wdXAiLCJzZWxlY3RvclBvcHVwIiwiX3NlbGVjdG9yUG9wdXAiLCJjbG9zZSIsIlBvcHVwV2l0aEltYWdlIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiY2FsbCIsIl9nZXRUZW1wbGF0ZVBvcHVwIiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIl9jbG9zZSIsInRleHQiLCJQb3B1cFdpdGhGb3JtIiwicG9wdXBTZWxlY3RvciIsIl9nZXRJbnB1dFZhbHVlcyIsImVsZW1lbnRJbWFnZSIsImVsZW1lbnRQbGFjZSIsImVsZW1lbnRIZWFydCIsImVsZW1lbnRUcmFzaCIsImZvcm0iLCJ0ZXh0SW5wdXRQbGFjZSIsInVybElucHV0SWltYWdlIiwicHJlcGVuZCIsInJlc2V0IiwiYWRkRm9ybSIsIl9oYW5kbGVBZGRGb3JtU3VibWl0IiwiVXNlckluZm8iLCJzZWxlY3RvclVzZXIiLCJfc2VsZWN0b3JVc2VyIiwiX2dldFRlbXBsYXRlVXNlciIsImlucHV0TmFtZSIsImlucHV0Sm9iIiwicHJvZmlsZUZvcm0iLCJfaGFuZGxlVXNlckZvcm1TdWJtaXQiLCJjb25zb2xlIiwibG9nIiwiY2FyZHNMaXN0IiwiY2FyZEl0ZW0iLCJjYXJkRWxlbWVudCIsImdlbmVyYXRlQ2FyZCIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtcyIsInBvcHVwSW1nIiwiX2dlbmVyYXRlUG9wdXAiLCJjb250YWlucyIsInAiLCJwYXJlbnRFbGVtZW50IiwiaW1hZ2VJbmZvIiwib3BlbiIsInBvcHVwQWRkRm9ybSIsIl9nZW5lcmF0ZUZvcm1Qb3B1cCIsIl9vcGVuIiwicG9wdXBVc2VyRm9ybSIsIl9nZW5lcmF0ZVVzZXIiXSwic291cmNlUm9vdCI6IiJ9